import{_ as T,o as g,c as C,a as i,w as L,m as e,b as c,v as d,u,d as D,F as H}from"./index-72920e2c.js";import{google as a}from"https://www.gstatic.com/charts/loader.js";const S={},k={class:"fill-[var(--color-text)]",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"36px",height:"36px",viewBox:"0 0 36 36","enable-background":"new 0 0 36 36","xml:space":"preserve"},W=i("g",null,[i("path",{d:`M5.979,5.979c6.628-6.628,17.412-6.628,24.041,0s6.629,17.413,0,24.041s-17.413,6.629-24.041,0.001\r
                C-0.649,23.393-0.649,12.607,5.979,5.979 M5.272,5.272c-7.031,7.03-7.03,18.426,0,25.457c7.028,7.028,18.426,7.029,25.455,0\r
                s7.029-18.428,0-25.457C23.698-1.758,12.301-1.757,5.272,5.272L5.272,5.272z`}),i("path",{d:`M25.778,10.222L18,18l-7.778-7.778c-0.195-0.195-0.512-0.195-0.707,0s-0.195,0.512,0,0.707l7.778,7.778l-7.071,7.071\r
                c-0.195,0.195-0.195,0.512,0,0.707s0.512,0.195,0.707,0L18,19.414l7.071,7.071c0.195,0.195,0.512,0.195,0.707,0\r
                s0.195-0.512,0-0.707l-7.071-7.071l7.778-7.778c0.195-0.195,0.195-0.512,0-0.707S25.974,10.026,25.778,10.222z`})],-1),M=[W];function z(p,t){return g(),C("svg",k,M)}const A=T(S,[["render",z]]),B={class:"fixed w-screen h-screen top-0 left-0 bg-[var(--color-background)] z-20"},$={id:"curve_chart",class:"fixed z-20 top-0 left-0 lg:-translate-x-1/2 lg:-translate-y-1/2 lg:top-1/2 lg:left-1/2"},V={__name:"ChartingTTM",setup(p){a.charts.load("current",{packages:["corechart"]});let t={innerChart:{W:void 0,H:void 0,L:void 0,T:void 0},outerChart:{W:void 0,H:void 0}};L(()=>e.chartingData,()=>{a.charts.setOnLoadCallback(l)}),window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",()=>{e.isChartDisplaying&&a.charts.setOnLoadCallback(l)}),window.addEventListener("resize",()=>{e.isChartDisplaying&&a.charts.setOnLoadCallback(l)});function w(){let o=matchMedia("(orientation:portrait)").matches,r=matchMedia("(max-width:1024px)").matches;r&&o?(t.innerChart.W=screen.width*.75,t.innerChart.H=window.innerHeight*.7,t.innerChart.T=120,t.innerChart.L=80,t.outerChart.W=screen.width,t.outerChart.H=screen.height):r&&!o?(t.innerChart.W=window.innerWidth*.75,t.innerChart.H=window.innerHeight*.6,t.innerChart.T=70,t.innerChart.L=140,t.outerChart.W=screen.width,t.outerChart.H=screen.height):(t.innerChart.W=window.innerWidth*.75,t.innerChart.H=window.innerHeight*.75,t.innerChart.T="auto",t.innerChart.L="auto",t.outerChart.W=screen.width*.9,t.outerChart.H=screen.height*.8)}function l(){if(!e.isChartDisplaying)return;w();var o=document.querySelector(":root"),r=getComputedStyle(o);let s=r.getPropertyValue("--chart-text").trim(),n={mainTitle:s,legendTextColor:s,xAxisLabels:s,yAxisLabels:s,chartAreaBG:r.getPropertyValue("--chartarea-bg").trim(),chartBG:r.getPropertyValue("--chart-bg").trim()},h=[...e.chartingData];const m=h[1][0],f=h[h.length-1][0];var v=a.visualization.arrayToDataTable(e.chartingData);let _=e.userSettings.amount||"1.00";var y={title:`${e.userSettings.convertTo} per ${e.userSettings.convertFrom} ${_} 
 ${m} to ${f} [Trailing Twelve Months]`,titlePosition:"out",titleTextStyle:{fontSize:16,bold:!0,color:n.mainTitle},width:t.outerChart.W,height:t.outerChart.H,backgroundColor:n.chartBG,chartArea:{top:t.innerChart.T,left:t.innerChart.L,width:t.innerChart.W,height:t.innerChart.H,backgroundColor:n.chartAreaBG},vAxis:{textPosition:"out",textStyle:{fontSize:14,bold:!0,color:n.yAxisLabels}},hAxis:{textPosition:"out",slantedText:!0,slantedTextAngle:45,showTextEvery:28,viewWindowMode:"pretty",textStyle:{fontSize:14,color:n.xAxisLabels}},legend:{position:"top",alignment:"end",textStyle:{color:n.legendTextColor,bold:!0}}},b=new a.visualization.LineChart(document.getElementById("curve_chart"));b.draw(v,y)}const x=()=>{e.isChartDisplaying=!1,document.getElementById("curve_chart").innerHTML=""};return(o,r)=>(g(),C(H,null,[c(i("div",B,null,512),[[d,u(e).isChartDisplaying]]),c(i("div",$,null,512),[[d,u(e).isChartDisplaying]]),c(i("button",{onMousedown:x,class:"fixed z-30 top-4 left-4 lg:left-auto lg:top-8 lg:right-8 text-[var(--color-text)]"},[D(A)],544),[[d,u(e).isChartDisplaying]])],64))}};export{V as default};
