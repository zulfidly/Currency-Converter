import{_ as b,o as g,c as u,a,w as T,m as e,b as h,v as c,u as d,d as L,F as D}from"./index-37927cf6.js";const H={},S={class:"fill-[var(--color-text)]",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"36px",height:"36px",viewBox:"0 0 36 36","enable-background":"new 0 0 36 36","xml:space":"preserve"},k=a("g",null,[a("path",{d:`M5.979,5.979c6.628-6.628,17.412-6.628,24.041,0s6.629,17.413,0,24.041s-17.413,6.629-24.041,0.001\r
                C-0.649,23.393-0.649,12.607,5.979,5.979 M5.272,5.272c-7.031,7.03-7.03,18.426,0,25.457c7.028,7.028,18.426,7.029,25.455,0\r
                s7.029-18.428,0-25.457C23.698-1.758,12.301-1.757,5.272,5.272L5.272,5.272z`}),a("path",{d:`M25.778,10.222L18,18l-7.778-7.778c-0.195-0.195-0.512-0.195-0.707,0s-0.195,0.512,0,0.707l7.778,7.778l-7.071,7.071\r
                c-0.195,0.195-0.195,0.512,0,0.707s0.512,0.195,0.707,0L18,19.414l7.071,7.071c0.195,0.195,0.512,0.195,0.707,0\r
                s0.195-0.512,0-0.707l-7.071-7.071l7.778-7.778c0.195-0.195,0.195-0.512,0-0.707S25.974,10.026,25.778,10.222z`})],-1),W=[k];function M(C,t){return g(),u("svg",S,W)}const z=b(H,[["render",M]]),A={class:"fixed w-screen h-screen top-0 left-0 bg-[var(--color-background)] z-20"},B={id:"curve_chart",class:"fixed z-20 top-0 left-0 lg:-translate-x-1/2 lg:-translate-y-1/2 lg:top-1/2 lg:left-1/2"},P={__name:"ChartingTTM",setup(C){google.charts.load("current",{packages:["corechart"]});let t={innerChart:{W:void 0,H:void 0,L:void 0,T:void 0},outerChart:{W:void 0,H:void 0}};T(()=>e.chartingData,()=>{google.charts.setOnLoadCallback(s)}),window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",()=>{e.isChartDisplaying&&google.charts.setOnLoadCallback(s)}),window.addEventListener("resize",()=>{e.isChartDisplaying&&google.charts.setOnLoadCallback(s)});function w(){let i=matchMedia("(orientation:portrait)").matches,r=matchMedia("(max-width:1024px)").matches;r&&i?(t.innerChart.W=screen.width*.75,t.innerChart.H=window.innerHeight*.7,t.innerChart.T=120,t.innerChart.L=80,t.outerChart.W=screen.width,t.outerChart.H=screen.height):r&&!i?(t.innerChart.W=window.innerWidth*.75,t.innerChart.H=window.innerHeight*.6,t.innerChart.T=70,t.innerChart.L=140,t.outerChart.W=screen.width,t.outerChart.H=screen.height):(t.innerChart.W=window.innerWidth*.75,t.innerChart.H=window.innerHeight*.75,t.innerChart.T="auto",t.innerChart.L="auto",t.outerChart.W=screen.width*.9,t.outerChart.H=screen.height*.8)}function s(){if(!e.isChartDisplaying)return;w();var i=document.querySelector(":root"),r=getComputedStyle(i);let o=r.getPropertyValue("--chart-text").trim(),n={mainTitle:o,legendTextColor:o,xAxisLabels:o,yAxisLabels:o,chartAreaBG:r.getPropertyValue("--chartarea-bg").trim(),chartBG:r.getPropertyValue("--chart-bg").trim()},l=[...e.chartingData];const p=l[1][0],m=l[l.length-1][0];var f=google.visualization.arrayToDataTable(e.chartingData);let v=e.userSettings.amount||"1.00";var _={title:`${e.userSettings.convertTo} per ${e.userSettings.convertFrom} ${v} 
 ${p} to ${m} [Trailing Twelve Months]`,titlePosition:"out",titleTextStyle:{fontSize:16,bold:!0,color:n.mainTitle},width:t.outerChart.W,height:t.outerChart.H,backgroundColor:n.chartBG,chartArea:{top:t.innerChart.T,left:t.innerChart.L,width:t.innerChart.W,height:t.innerChart.H,backgroundColor:n.chartAreaBG},vAxis:{textPosition:"out",textStyle:{fontSize:14,bold:!0,color:n.yAxisLabels}},hAxis:{textPosition:"out",slantedText:!0,slantedTextAngle:45,showTextEvery:28,viewWindowMode:"pretty",textStyle:{fontSize:14,color:n.xAxisLabels}},legend:{position:"top",alignment:"end",textStyle:{color:n.legendTextColor,bold:!0}}},y=new google.visualization.LineChart(document.getElementById("curve_chart"));y.draw(f,_)}const x=()=>{e.isChartDisplaying=!1,document.getElementById("curve_chart").innerHTML=""};return(i,r)=>(g(),u(D,null,[h(a("div",A,null,512),[[c,d(e).isChartDisplaying]]),h(a("div",B,null,512),[[c,d(e).isChartDisplaying]]),h(a("button",{onMousedown:x,class:"fixed z-30 top-4 left-4 lg:left-auto lg:top-8 lg:right-8 text-[var(--color-text)]"},[L(z)],544),[[c,d(e).isChartDisplaying]])],64))}};export{P as default};
